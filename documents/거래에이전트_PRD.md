## Phase 2: 마스터 에이전트 개발 (The Brain)
모든 정보를 종합하여 최종 결정을 내리는 핵심 두뇌를 개발합니다.

- [ ] 🧠 **마스터 결정 에이전트 개발 (The Core Logic & Execution)**

### 1. 오케스트레이션 및 데이터 수집 (Orchestration & Data Gathering)
- [x] 주기적인 실행 트리거 기능 구현 (예: 5분마다 자동 실행)
- [x] 3개의 분석 에이전트(퀀트, 소셜, 리스크) API를 호출하여 보고서를 수집하는 기능 구현
- [ ] 특정 분석 에이전트 API 호출 실패 시를 대비한 예외 처리 로직 구현

### 2. 현재 자산 조회 (Real-time Portfolio Fetching)
- [x] 바이낸스 API를 통해 현재 계좌의 실시간 자산(USDT, BTC 등)을 조회하는 기능 구현
- [X] 조회된 자산 데이터를 후속 계산에 사용하기 용이한 형태로 정제하는 로직 구현

### 3. AI 기반 리밸런싱 계산 (AI-Powered Rebalancing Calculation)
- [x] 수집된 3개의 분석 보고서와 현재 자산 데이터를 하나의 입력 데이터로 통합하는 기능 구현
- [x] AI 프롬프트를 활용하여, 통합된 데이터를 바탕으로 최종 '목표 보유 비율(%)'을 계산하는 로직 구현
- [x] AI가 반환한 목표 비율과 현재 자산을 비교하여, 매수/매도할 정확한 수량(BTC 또는 USDT)을 계산하는 로직 구현

### 4. 거래 실행 및 기록 (Execution & Logging)
- [x] 계산된 수량이 0이 아닐 경우에만 거래를 실행하도록 하는 조건부 로직 구현
- [X] 계산된 수량만큼 바이낸스 API를 통해 실제 매수/매도 주문을 실행하는 기능 구현
- [ ] 모든 분석 보고서, AI의 판단 근거, 실제 거래 결과를 데이터베이스에 기록하는 기능 구현

---

- [ ] 🤖 **자가 학습(Self-Learning) 루프 구현 (The Evolution Engine)**

### 1. 성과 데이터 분석 (Performance Analysis)
- [ ] (주간/월간 등) 주기적으로 실행되는 별도의 성과 분석 기능 구현
- [ ] 데이터베이스에서 과거 거래 내역과 당시의 AI 판단 데이터를 조회하는 기능
- [ ] 각 거래의 수익 또는 손실(PnL)을 계산하여 성과를 정량화하는 로직 구현

### 2. 규칙 최적화 제안 (Rule Optimization Suggestion)
- [ ] 거래 성과와 당시의 quant_score, social_score, risk_level 등 핵심 지표를 통계적으로 연관 분석하는 기능
- [ ] 분석 결과를 바탕으로, 현재 AI 프롬프트에 정의된 가중치나 임계값이 최적인지 평가하는 로직 구현

### 3. 규칙 자동 업데이트 (Automated Rule Tuning)
- [ ] AI 프롬프트의 동적 규칙(가중치, 임계값)을 코드나 텍스트가 아닌 DB에서 관리하도록 시스템을 개선
- [ ] (최종 목표) 성과 분석 결과에 따라 DB에 저장된 규칙을 자동으로 미세 조정(fine-tuning)하는 기능 구현